@model IEnumerable<GroceryStoreMain.Models.FAQModel>

@{
    ViewBag.Title = "FAQ";
    Layout = "~/Views/Shared/_AdminLayoutPage.cshtml";
}

<div style="margin-left:10px">
    <br />
    <h2>ManageDiscount</h2>
    <h5 class="text-info"> @TempData["Message"]</h5>
    <div class="table-responsive">

        <table class="table table-bordered table-condensed table-striped table-hover caption-top">
            <caption>
                <div class="col-sm-2">
                    <a href="@Url.Action("AddNewFAQ","Admin")"
                       class="btn btn-toolbar btn-outline-success btn-lg">Create New FAQ <span class="glyphicon glyphicon-plus-sign"></span></a>

                </div>
                <br />
            </caption>

            <thead>
            <th>
                @Html.DisplayNameFor(model => model.faq_id)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.question)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.answer)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.created_dtm)
            </th>
            <th></th>
            </thead>
            @if (Model.Count() == 0)
            {
                <tr>
                    <td colspan="10">No Record's found.</td>
                </tr>
            }
            else
            {
                foreach (var item in Model)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelitem => item.faq_id)
                        </td>
                        <td>
                            @Html.DisplayFor(modelitem => item.question)
                        </td>
                        <td>
                            @Html.DisplayFor(modelitem => item.answer)
                        </td>
                        <td>
                            @Html.DisplayFor(modelitem => item.created_dtm)
                        </td>
                        <td>
                            <div class="dropout">
                                <button class="more">
                                    <span></span>
                                    <span></span>
                                    <span></span>
                                </button>
                                <div>
                                    @Html.ActionLink("Edit", "EditFAQ", new { id = item.faq_id })

                                    @Html.ActionLink("Remove", "RemoveFAQ", new { id = item.faq_id })

                                </div>
                            </div>
                            <style>
                                .more {
                                    cursor: pointer;
                                    border: none;
                                    background: transparent;
                                }

                                    .more span {
                                        display: block;
                                        width: .25rem;
                                        height: .25rem;
                                        background: #363636;
                                        border-radius: 50%;
                                        pointer-events: none;
                                    }

                                        .more span:not(:last-child) {
                                            margin-bottom: .125rem;
                                        }

                                .dropout {
                                    z-index: 9001;
                                    width: fit-content;
                                    position: relative;
                                    margin-left: auto;
                                    margin-right: auto;
                                }

                                    .dropout div {
                                        position: absolute;
                                        top: -1.1rem;
                                        right: 1.5rem;
                                        transform: scaleX(0);
                                        transform-origin: right;
                                        transition: transform 0.12s ease;
                                    }

                                    .dropout.active div {
                                        transform: scaleX(1);
                                    }
                            </style>
                            <script>
                                document.querySelector('table').onclick = ({
                                    target
                                }) => {
                                    if (!target.classList.contains('more')) return
                                    document.querySelectorAll('.dropout.active').forEach(
                                        (d) => d !== target.parentElement && d.classList.remove('active')
                                    )
                                    target.parentElement.classList.toggle('active')
                                }
                            </script>
                        </td>
                    </tr>
                }
            }
        </table>
    </div>

</div>
