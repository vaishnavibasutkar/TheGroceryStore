@model GroceryStoreMain.Models.Product


@{
    ViewBag.Title = "ProductDetails";
    Layout = "~/Views/Shared/_CustomerLayoutPage.cshtml";
}
<!-- Page Header Start -->
<div class="container-fluid bg-secondary mb-5">
    <div class="d-flex flex-column align-items-center justify-content-center" style="min-height: 300px">
        <h1 class="font-weight-semi-bold text-uppercase mb-3">Shop Detail</h1>
        <div class="d-inline-flex">
            <p class="m-0"><a href="https://localhost:44350/Customer/Home">Home</a></p>
            <p class="m-0 px-2">-</p>
            <p class="m-0">Shop Detail</p>
        </div>
    </div>
</div>
<!-- Page Header End -->
<!-- Shop Detail Start -->
<div class="container-fluid py-5">
    <div class="row px-xl-5">
        <div class="col-lg-5 pb-5">
            <div id="product-carousel" class="carousel slide" data-ride="carousel">
                <img class="img-fluid w-100" src=@String.Format("/Images/Products/" + Model.imagepath.ToString()) alt="">
            </div>
        </div>
        <input type="hidden" value=@Model.p_id id="productID" />
        <div class="col-lg-7 pb-5">
            <h3 class="font-weight-semi-bold">@Model.name</h3>
            <div class="d-flex mb-3">
                <div class="text-primary mr-2">
                    <small class="fas fa-star"></small>
                    <small class="fas fa-star"></small>
                    <small class="fas fa-star"></small>
                    <small class="fas fa-star-half-alt"></small>
                    <small class="far fa-star"></small>
                </div>
                <small class="pt-1">(@Model.Feedbacks.Count Reviews)</small>
            </div>
            <h3 class="font-weight-semi-bold mb-4">@Model.price</h3>
            <!--<p class="mb-4">@Model.description</p>
            <div class="d-flex mb-3">
                <p class="text-dark font-weight-medium mb-0 mr-3">Unit Of Measurement:</p>
                <label class="form-label">@Model.Unit_Of_Measurement.name</label>-->
            @*<form>
                    <div class="custom-control custom-radio custom-control-inline">
                        <input type="radio" class="custom-control-input" id="size-1" name="size">
                        <label class="custom-control-label" for="size-1">XS</label>
                    </div>
                    <div class="custom-control custom-radio custom-control-inline">
                        <input type="radio" class="custom-control-input" id="size-2" name="size">
                        <label class="custom-control-label" for="size-2">S</label>
                    </div>
                    <div class="custom-control custom-radio custom-control-inline">
                        <input type="radio" class="custom-control-input" id="size-3" name="size">
                        <label class="custom-control-label" for="size-3">M</label>
                    </div>
                    <div class="custom-control custom-radio custom-control-inline">
                        <input type="radio" class="custom-control-input" id="size-4" name="size">
                        <label class="custom-control-label" for="size-4">L</label>
                    </div>
                    <div class="custom-control custom-radio custom-control-inline">
                        <input type="radio" class="custom-control-input" id="size-5" name="size">
                        <label class="custom-control-label" for="size-5">XL</label>
                    </div>
                </form>*@
            <!--</div>-->
            @*<div class="d-flex mb-4">
                    <p class="text-dark font-weight-medium mb-0 mr-3">Colors:</p>
                    <form>
                        <div class="custom-control custom-radio custom-control-inline">
                            <input type="radio" class="custom-control-input" id="color-1" name="color">
                            <label class="custom-control-label" for="color-1">Black</label>
                        </div>
                        <div class="custom-control custom-radio custom-control-inline">
                            <input type="radio" class="custom-control-input" id="color-2" name="color">
                            <label class="custom-control-label" for="color-2">White</label>
                        </div>
                        <div class="custom-control custom-radio custom-control-inline">
                            <input type="radio" class="custom-control-input" id="color-3" name="color">
                            <label class="custom-control-label" for="color-3">Red</label>
                        </div>
                        <div class="custom-control custom-radio custom-control-inline">
                            <input type="radio" class="custom-control-input" id="color-4" name="color">
                            <label class="custom-control-label" for="color-4">Blue</label>
                        </div>
                        <div class="custom-control custom-radio custom-control-inline">
                            <input type="radio" class="custom-control-input" id="color-5" name="color">
                            <label class="custom-control-label" for="color-5">Green</label>
                        </div>
                    </form>
                </div>*@
            <div class="d-flex align-items-center mb-4 pt-2">
                <div class="input-group quantity mr-3" style="width: 130px;">
                    <div class="input-group-btn">
                        <button class="btn btn-primary btn-minus">
                            <i class="fa fa-minus"></i>
                        </button>
                    </div>
                    <input type="text" class="form-control bg-secondary text-center" value="1">
                    <div class="input-group-btn">
                        <button class="btn btn-primary btn-plus">
                            <i class="fa fa-plus"></i>
                        </button>
                    </div>
                </div>

                <div class="btn dropdown ">
                    <button class="btn dropdown-toggle btn-primary px-3" data-toggle="dropdown" id="AddToCart"><i class="fa fa-shopping-cart mr-1"></i> Add To Cart</button>
                    <div class="dropdown-menu  rounded-0 m-0">
                        @if (Session["Username"] == null)
                        {
                            <p class="nav-item nav-link" href="#" id="blankcart">

                                No Cart Added. Please login to add :)
                            </p>
                        }
                        else if (((List<GroceryStoreMain.Models.Cart>)Session["Cart"]) == null)
                        {
                            <p class="nav-item nav-link" href="#" id="blankcart">

                                No Cart Added. Please add new cart:)
                            </p>
                        }
                        else
                        {
                            if (((List<GroceryStoreMain.Models.Cart>)Session["Cart"]).Count > 0)
                            {
                                foreach (var cart in ((List<GroceryStoreMain.Models.Cart>)Session["Cart"]))
                                {
                                    @*<a class="nav-item nav-link" href="@Html.Raw(@Url.Action("AddToCart", "Customer", new { id = cart.cart_id ,pid=@Model.p_id}))" id=@cart.cart_id>
                                            @cart.name
                                        </a>*@

                                    <a class="nav-item nav-link" id=@cart.cart_id onclick="AddToCart(this)">
                                        @cart.name
                                    </a>
                                }

                            }

                            if (((List<GroceryStoreMain.Models.Cart>)Session["Cart"]).Count == 0)
                            {
                                <p class="nav-item nav-link" href="#" id="blankcart">

                                    No Cart Added. Please add new cart:)
                                </p>
                            }
                        }

                    </div>
                </div>
                @*@{var myObjectWrapper = new GroceryStoreMain.Models.myObjectWrapper() { Data = new List<int?>() { @ } };}*@

                <a class="btn btn-primary px-3" id="ordernow" href="@Url.Action("ProceedToCheckout", "Customer", new { id=Model.p_id })" p_id="@Model.p_id"><i class="fa fa-shop mr-1"></i>Order Now</a>

            </div>
            <div class="d-flex pt-2">
                <p class="text-dark font-weight-medium mb-0 mr-2">Share on:</p>
                <div class="d-inline-flex">
                    <a class="text-dark px-2" href="https://www.facebook.com/">
                        <i class="fab fa-facebook-f"></i>
                    </a>
                    <a class="text-dark px-2" href="https://twitter.com/?lang=en-in">
                        <i class="fab fa-twitter"></i>
                    </a>
                    <a class="text-dark px-2" href="https://in.linkedin.com/">
                        <i class="fab fa-linkedin-in"></i>
                    </a>
                    <a class="text-dark px-2" href="https://in.pinterest.com/">
                        <i class="fab fa-pinterest"></i>
                    </a>
                </div>
            </div>
        </div>
    </div>
    <div class="row px-xl-5">
        <div class="col">
            <div class="nav nav-tabs justify-content-center border-secondary mb-4">
                <a class="nav-item nav-link active" data-toggle="tab" href="#tab-pane-1">Description</a>

                <a class="nav-item nav-link" data-toggle="tab" href="#tab-pane-2">Reviews (@Model.Feedbacks.Count)</a>
            </div>
            <div class="tab-content">
                <div class="tab-pane fade show active" id="tab-pane-1">
                    <h4 class="mb-3">Product Description</h4>
                    <p>@Model.description</p>
                </div>

                <div class="tab-pane fade" id="tab-pane-2">
                    <div class="row">
                        <div class="col-md-6">
                            <h4 class="mb-4">@Model.Feedbacks.Count review for "@Model.name"</h4>
                            @if (Model.Feedbacks.Count == 0)
                            {
                                <p > Currently no feedback for this product.You can try and review. :)</p>
                            }
                            @foreach (var f in Model.Feedbacks)
                            {
                                <div class="media mb-4">
                                    <div class="media-body">
                                        <h6>@f.Customer.full_name</h6>
                                        <div class="text-primary mb-2">

                                            @for (int i = 0; i < f.rating; i++)
                                            {
                                                <span class="fa fa-star checked"></span>
                                            }
                                            @for (int i = (int)f.rating; i < 5; i++)
                                            {
                                                <span class="fa fa-star"></span>
                                            }
                                            <style>
                                                .checked {
                                                    color: orange;
                                                }
                                            </style>
                                        </div>
                                        <p>@f.feedback1</p>
                                    </div>
                                </div>
                            }

                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Shop Detail End -->
<!-- Products Start -->
<div class="container-fluid py-5">
    <div class="text-center mb-4">
        <h2 class="section-title px-5"><span class="px-2">You May Also Like</span></h2>
    </div>
    @* Dont delete <div class="row px-xl-5">
        <div class="col">
            <div class="owl-carousel related-carousel">
                <div class="card product-item border-0">
                    <div class="card-header product-img position-relative overflow-hidden bg-transparent border p-0">
                        <img class="img-fluid w-100" src="img/product-1.jpg" alt="">
                    </div>
                    <div class="card-body border-left border-right text-center p-0 pt-4 pb-3">
                        <h6 class="text-truncate mb-3">Colorful Stylish Shirt</h6>
                        <div class="d-flex justify-content-center">
                            <h6>$123.00</h6><h6 class="text-muted ml-2"><del>$123.00</del></h6>
                        </div>
                    </div>
                    <div class="card-footer d-flex justify-content-between bg-light border">
                        <a href="" class="btn btn-sm text-dark p-0"><i class="fas fa-eye text-primary mr-1"></i>View Detail</a>
                        <a href="" class="btn btn-sm text-dark p-0"><i class="fas fa-shopping-cart text-primary mr-1"></i>Add To Cart</a>
                    </div>
                </div>
                <div class="card product-item border-0">
                    <div class="card-header product-img position-relative overflow-hidden bg-transparent border p-0">
                        <img class="img-fluid w-100" src="img/product-2.jpg" alt="">
                    </div>
                    <div class="card-body border-left border-right text-center p-0 pt-4 pb-3">
                        <h6 class="text-truncate mb-3">Colorful Stylish Shirt</h6>
                        <div class="d-flex justify-content-center">
                            <h6>$123.00</h6><h6 class="text-muted ml-2"><del>$123.00</del></h6>
                        </div>
                    </div>
                    <div class="card-footer d-flex justify-content-between bg-light border">
                        <a href="" class="btn btn-sm text-dark p-0"><i class="fas fa-eye text-primary mr-1"></i>View Detail</a>
                        <a href="" class="btn btn-sm text-dark p-0"><i class="fas fa-shopping-cart text-primary mr-1"></i>Add To Cart</a>
                    </div>
                </div>
                <div class="card product-item border-0">
                    <div class="card-header product-img position-relative overflow-hidden bg-transparent border p-0">
                        <img class="img-fluid w-100" src="img/product-3.jpg" alt="">
                    </div>
                    <div class="card-body border-left border-right text-center p-0 pt-4 pb-3">
                        <h6 class="text-truncate mb-3">Colorful Stylish Shirt</h6>
                        <div class="d-flex justify-content-center">
                            <h6>$123.00</h6><h6 class="text-muted ml-2"><del>$123.00</del></h6>
                        </div>
                    </div>
                    <div class="card-footer d-flex justify-content-between bg-light border">
                        <a href="" class="btn btn-sm text-dark p-0"><i class="fas fa-eye text-primary mr-1"></i>View Detail</a>
                        <a href="" class="btn btn-sm text-dark p-0"><i class="fas fa-shopping-cart text-primary mr-1"></i>Add To Cart</a>
                    </div>
                </div>
                <div class="card product-item border-0">
                    <div class="card-header product-img position-relative overflow-hidden bg-transparent border p-0">
                        <img class="img-fluid w-100" src="img/product-4.jpg" alt="">
                    </div>
                    <div class="card-body border-left border-right text-center p-0 pt-4 pb-3">
                        <h6 class="text-truncate mb-3">Colorful Stylish Shirt</h6>
                        <div class="d-flex justify-content-center">
                            <h6>$123.00</h6><h6 class="text-muted ml-2"><del>$123.00</del></h6>
                        </div>
                    </div>
                    <div class="card-footer d-flex justify-content-between bg-light border">
                        <a href="" class="btn btn-sm text-dark p-0"><i class="fas fa-eye text-primary mr-1"></i>View Detail</a>
                        <a href="" class="btn btn-sm text-dark p-0"><i class="fas fa-shopping-cart text-primary mr-1"></i>Add To Cart</a>
                    </div>
                </div>
                <div class="card product-item border-0">
                    <div class="card-header product-img position-relative overflow-hidden bg-transparent border p-0">
                        <img class="img-fluid w-100" src="img/product-5.jpg" alt="">
                    </div>
                    <div class="card-body border-left border-right text-center p-0 pt-4 pb-3">
                        <h6 class="text-truncate mb-3">Colorful Stylish Shirt</h6>
                        <div class="d-flex justify-content-center">
                            <h6>$123.00</h6><h6 class="text-muted ml-2"><del>$123.00</del></h6>
                        </div>
                    </div>
                    <div class="card-footer d-flex justify-content-between bg-light border">
                        <a href="" class="btn btn-sm text-dark p-0"><i class="fas fa-eye text-primary mr-1"></i>View Detail</a>
                        <a href="" class="btn btn-sm text-dark p-0"><i class="fas fa-shopping-cart text-primary mr-1"></i>Add To Cart</a>
                    </div>
                </div>
            </div>
        </div>
    </div>*@
</div>
<!-- Products End -->



@*<div class="container">
    <div class="card">
        <div class="container-fluid">
            <h2 class="card-title"> FeedBack From Other Customers:</h2>
            @if (Model.Feedbacks.Count == 0)
            {
                < p > Currently no feedback for this product.You can try and review. :)</p>
            }
            @foreach (var feedback in Model.Feedbacks)
            {
                <div class="row m-4" style="border:1px solid black">

                    <table>
                        <tr>
                            <td class="font-weight-bolder">

                                @feedback.Customer.full_name
                            </td>
                        </tr>
                        <tr>
                            <td class="ml-3">
                                @for (int i = 0; i < feedback.rating; i++)
                                {
                                    <span class="fa fa-star checked"></span>
                                }
                                @for (int i = (int)feedback.rating; i < 5; i++)
                                {
                                    <span class="fa fa-star "></span>
                                }
                                <style>
                                    .checked {
                                        color: orange;
                                    }
                                </style>

                            </td>
                        </tr>
                        <tr>
                            <td class="ml-3">

                                @feedback.feedback1
                            </td>
                        </tr>

                    </table>
                    <br />
                </div>
            }

        </div>

        <br />

    </div>
</div>*@




